# 1. 관계형 데이터베이스(RDBMS)와 비관계형 데이터베이스(NoSQL)의 장단점 비교

### 관계형 데이터베이스

- 특징

  - 정해진 규칙을 가진 스키마에 따라 테이블에 데이터를 저장한다.
  - 관계를 통해 연결된 여러 테이블에 데이터를 분산해서 저장한다.

- 장점

  - 데이터 무결성을 보장
  - 데이터 분류, 정렬이 빠르다.

- 단점

  - 기존에 작성된 스키마를 수정하기가 어렵다.
  - JOIN으로 인해 복잡한 쿼리가 필요한 경우가 생긴다.
  - 데이터베이스 모델링이 완료되어야 이후 개발 작업이 가능한 경우가 많다.

- 언제 사용할까?
  - 관계를 맺고 있는 데이터가 자주 변경되는 경우.
  - 무결성이 보장되는 데이터 구조가 중요한 경우.

### 비관계형 데이터베이스

- 특징

  - 테이블을 나눌 필요없이 동일한 컬렉션을 통해 데이터를 저장한다.
  - join 없이 복잡한 정보를 하나의 데이터 구조로 저장 가능하다.

- 장점

  - 대용량 데이터 처리를 하는데 효율적이다.
  - 관계형 데이터베이스에 비해 쓰기와 읽기 성능이 빠르다.
  - 데이터 모델링이 유연하고 복잡한 데이터 구조를 표현할 수 있다.

- 단점

  - 유연함으로 인해 데이터 구조 결정이 어렵다.
  - NoSQL 마다 다른 언어로 인해 이식성이 낮다.

- 언제 사용할까?
  - 정확한 데이터 구조를 알 수 없거나, 확장 가능성이 있는 경우
  - 읽기 작업이 빈번하지만, 데이터를 자주 변경할 필요가 없는 경우(ex, 세션 정보)
  - 대용량 데이터 작업 및 수평적 확장이 필요한 경우 (ex, 검색 로그 처리)

# 2. 트랜잭션(transaction)이란 무엇인가요?

데이터베이스 작업의 단위를 의미한다.

### 트랜잭션의 4대 특징 (ACID)

- **원자성(Atomicity)**

  - 트랜잭션이 데이터베이스에 모두 반영되거나, 모두 반영되지 않아야 한다. (all or nothing)
  - 예) A계좌에서 B계좌로 돈을 송금하는 작업이 있을 때, A계좌에서 돈이 빠지는 것과 B계좌에 돈이 들어오는 것은 함께 성공하거나 함께 실패해야 함.

- **일관성(Consistence)**

  - 모든 트랜잭션이 종료된 후에는 DB의 제약조건을 모두 지키고 있는 상태가 되어야 한다.
  - 예) 잔액은 음수가 될 수 없다. 라는 조건이 있다면 이를 위반하는 트랜잭션은 모두 중단됨.

- **독립성(Isolation)**
  - 하나의 트랜잭션은 다른 트랜잭션과 독립적으로 작동해야 한다.
  - 성능을 생각해 isolation 정도를 변경해야 함.
  - 참고로 MYSQL InnoDB의 기본 값인 REAPEATABLE_READ를 많이 활용한다.
- 상세
  - READ_UNCOMMITTED : 커밋 안했는데 읽을 수 있다., drity read : 변경이 덜 된 값을 읽음.
  - READ_COMMITTED : 다른 트랜잭션을 종료하면 그걸 읽을 수 있다. 내 트랜잭션이 길면 초반에 읽은 거랑 나중에 읽은 거랑 다르면?? Phantom read : 읽었는데 없네?
  - REAPEATABLE_READ : 트랜잭션 시작 순간 특정 데이터를 읽는 순간 스냅샷 떠서 트랜잭션 처리 중에는 계속 값을 유지한다. 실제로는 변경되었더라도!
  - SERIALIZABLE : 하나 처리되고, 하나 처리되고, 디비가 한 번에 하나의 트랜잭션만 처리 가능한 수준.
- **지속성(Durability)**
  - 트랜잭션이 성공적으로 완료됬을 경우, 결과는 영구적으로 반영되어야 한다.

# 3. MySQL에서 조인(join)의 역할은 무엇인가요? 다양한 join의 방식에 대해 설명해주세요.

### 1.inner join

두 테이블의 교집합

```SQL
테이블1 inner join 테이블2
on 조건;
```

### 2.left join

테이블1에 있는 데이터를 나타내는 경우

```SQL
테이블1 left join 테이블2
on 키1 = 키2
```

또는

테이블2에 연결되는 데이터가 없는, 테이블1의 데이터를 나타내고 싶은 경우 (left outer join)

```SQL
테이블1 left join 테이블2
on 키1 = 키2
where 키2 is null;
```

### 3.right join

left 조인의 반대

### 4.Full outer join

A합집합B - A교집합B = left join + right join

# 4. MySQL에서 인덱스(index)란 무엇인가요?

- 인덱스란 데이터 읽기 속도를 높여주는 자료구조이다.
- 인덱스는 select 속도를 향상 시킨다.
- 인덱스는 C,U,D 작업이 잦은 경우 오히려 성능이 감소된다.
- 인덱스 알고리즘은 일반적으로 B-Tree 알고리즘을 사용한다.
- MySQL에서 사용하는 B-Tree는 편향되지 않은 균등한 높이의 트리 구조로 되어있어 어떤 데이터를 조회하던 logN의 탐색 속도를 보장한다.
- B-Tree 이외에 Hash, Fractal-Tree 도 사용한다.
