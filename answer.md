# 1.관계형 데이터베이스(RDBMS)와 비관계형 데이터베이스(NoSQL)의 장단점 비교

## 1.1 RDBMS

### RDBMS란?

RDBMS는 Relational DBMS로, 행과 열을 가지는 2차원 표 형식으로 데이터를 저장하여 각 테이블 간의 관계를 기본키와 외래키로 표현하는 데이터 베이스입니다.  

<br>

### RDBMS의 장단점

- **장점**
    - **_정해진 schema_** 가 존재하여 이에 따라 데이터가 저장되기 때문에, 명확한 데이터 구조를 보장한다.  
    - **_관계_** 를 통해 데이터가 여러 테이블에 분산된다.
    - **_정규화_** 로 인해 각 데이터를 중복없이 한번만 저장된다.
    - **_강력한 transaction 지원_** 으로 데이터의 무결성을 보장한다.

- **단점**
    - **_정해진 스키마_** 로 인해 데이터가 유연하지 못하다.
    - **_테이블 간 관계_** 를 맺고 있어 시스템이 커질 경우, join문이 많이져 **_복잡한 쿼리_** 가 생길 수 있다.  
    - **_성능 향상을 위해 scale-up만을 지원_** 하기 때문에, 비용이 기하급수적으로 늘어날 수 있다.  


<br>

## 1.2 NoSQL


### NoSQL이란?

NoSQL은 Not Only SQL 이라는 슬로건에서 생겨났고, SQL을 사용하지 않는 DBMS를 말한다. RDBMS처럼 테이블이 아닌 key-value 형태로 저장되어 JSON 형태로 쿼리를 만든다.

<br>

### NoSQL 등장 배경  

데이터가 증가하면서 scale-up 비용 증가로 인한 RDBMS의 한계를 극복하고자 NoSQL이 등장하게 되었다. NoSQL의 예로는 MongoDB, Redis, ElasticSearch 등이 있다.

<br>

### NoSQL의 장단점

- **장점**
    - **_정해진 스키마가 없어서(schema-less)_** 비정형 데이터 등 유연하게 데이터를 저장할 수 있으며, 데이터베이스 설계를 변경하지 않고도 새로운 속성을 동적으로 추가할 수 있다.
    - **_대용량 데이터에 적합_** 한 DBMS, 그리고 그 이유들
        - 기존의 RDBMS 대부분이 클러스터 환경을 지원하지 않기 때문에 scale-up으로 대응해야했지만, NoSQL은 클러스터 하나에서 서버 여러대를 이용하도록 설계되어 **_scale-out_** 이 가능하다.
        - NoSQL은 저렴한 비용으로 서버를 여러 대 이용할 수 있도록 설계되어 있어, **_특정 노드가 장애가 발생했더라도 정상적으로 요청을 처리_** 할 수 있도록 한다.

- **단점**
    - **_데이터 중복_** 에 의해 데이터 일관성이 저하되고 용량이 증가할 수 있다.
    - RDBMS처럼 **_안정적인 트랜잭션을 보장하지 못한다._**  


<br>

---

## 2.트랜잭션(transaction)이란 무엇인가요?

### 트랜잭션이란?

> **_데이터베이스의 상태를 변화시키는 하나의 논리적인 작업 단위_**  

데이터베이스의 상태를 변화시킨다는 건, **SQL** 를 통해 DB에 접근하는 걸 말한다.
- SELECT, UPDATE, DELETE, INSERT  

여기서 '작업 단위'란 설계자가 정하는 것이다. 

아래 상황을 가정해보자.  

사용자 A가 사용자 B에게 만원을 송금한다고 하자. 이럴 때 DB 작업은 2가지다. 사용자 A의 계좌에서 만원을 참가하는 것(UPDATE)과 사용자 B의 계좌에서 만원을 추가하는 것(UPDATE)이다. 이를 통틀어 하나의 트랜젝션이라 한다. 

위 두 쿼리문 모두 성공적으로 완료되어야만 하나의 작업(트랜젝션)이 완료되는 것이다. 이 완료된 것을 **'Commit'** 이라 한다.

만약 위 두 가지 작업 중 하나라도 실패하면 모든 쿼리문을 취소하고 이전 상태로 돌려놔야한다. 이를 **'Rollback'** 이라 한다.


그래서 **_하나의 트랜젝션 설계를 잘 만드는 것이 데이터를 다룰 때 많은 이점을 가져다준다._**  

### 트랜잭션의 4가지 특징 (ACID)

> **_Atomicity(원자성), Consistency(일관성), Isolation(독립성), Durability(지속성)_**

**1) Atomicity** : 트랜잭션의 모든 작업이 DB에 모두 반영되거나 또는 롤백되는 특징 (all-or-nothing)

**2) Consistency** : 트랜잭션이 성공적으로 수행된 후에도 데이터베이스가 일관성을 유지해야하는 특징
- 즉 트랜잭션이 수행되기 전과 후 모두 일관성을 유지해야한다는 뜻이다.

**3) Isolation** : 여러 트랜잭션이 처리될 때 서로 독립적으로 수행되며 트랜잭션이 실행되고 있는 중에 다른 트랜잭션이 접근할 수 없는 특징 
- 트랜잭션 격리수준은 (isolation level) 여러 트랜잭션이 동시에 진행될 때 트랜잭션 간 서로 어느 정도로 고립되어있을지를 나타내는 정도이다. 트랜잭션의 격리수준이 높을수록 DB의 성능이 떨어진다.

**4) Durablity** : 한번 커밋된 트랜잭션의 내용은 영구히 적용되는 특성  


<br>

---

## 3.MySQL에서 조인(join)의 역할은 무엇인가요? 다양한 join의 방식에 대해 설명해주세요.

RDBMS에서 관계 있는 컬럼(외래키)을 이용하여 여러 테이블의 데이터를 조합시키는 것을 의미한다.

조인의 종류는 아래 이미지를 참고하자.

![img](https://upload.wikimedia.org/wikipedia/commons/thumb/9/9d/SQL_Joins.svg/1600px-SQL_Joins.svg.png?20141123194942)


<br>

---

## 4. MySQL에서 인덱스(index)란 무엇인가요?


### 인덱스를 사용하는 이유
RDBMS에서 인덱스를 사용하는 이유는 **_검색 기능 향상_** 을 위해서다. 

지정한 컬럼들을 기준으로 메모리 영역에 일종의 목차를 생성하는 것이다.

검색 기능 향상이 필요한 이유는 DB에 접근하는 비율의 절반 이상이 데이터 조회이기 때문이다.


<br>

### 인덱스의 단점

하지만, 너무 많은 인덱스는 새로운 row를 등록할 때마다 인덱스를 추가해야하고, 수정/삭제시마다 인덱스의 수정이 필요해서 성능상 이슈가 발생할 수 있다. 

또한 너무 많은 인덱스로 인해 옵티마이저가 잘못된 인덱스를 선택할 확률이 높아진다.